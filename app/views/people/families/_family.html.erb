<%= flash_messages container: 'container-sm' %>

<div class="<%= 'container-sm' unless can?(:update, family) || @family.full_address.present? %>">
  <div class="row">
    <div class="col-xs-12 <%= 'col-lg-6' if can?(:update, family) || @family.full_address.present? %>">
      <div class="list-group mb-2">
        <div class="list-group-item list-group-item-secondary">
          <% if can? :update, family %>
            <%= link_to new_family_family_membership_path(family), class: 'float-xs-right btn btn-secondary btn-sm btn-align-middle' do %>
              <%= fa_icon 'user 1x', class: 'mr-xs' %>Add person
            <% end %>
          <% end %>

          Members
        </div>

        <%= render 'people/families/memberships', family: family %>
      </div>

    </div>

    <% if can?(:update, family) || @family.full_address.present? %>
      <div class="col-xs-12 col-lg-6">
        <div class="list-group mb-2">
          <div class="list-group-item list-group-item-secondary">
            <% if can? :update, family %>
              <%= link_to edit_family_path(family), class: 'float-xs-right btn btn-secondary btn-sm btn-align-middle' do %>
                <%= fa_icon 'pencil 1x', class: 'mr-xs' %>Edit
              <% end %>
            <% end %>

            Details
          </div>

          <% if @family.full_address.present? %>
            <% if @family.lat && @family.lng %>
              <%= map_for @family, height: '400px' %>
            <% end %>

            <div class="list-group-item size-xs-small size-sm-normal">
              <%= fa_icon 'map-marker', class: 'mr-xs' %>
              <%= @family.full_address %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>

  </div>
</div>
